<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Pogcraft">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PogCraft</title>
    <link rel="icon" type="image/x-icon" href="Minecraft_Logo_Test_2_2.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="topnav" id="myTopnav">
        <a href="https://patreon.com/MinecraftServerUpgrade?utm_medium=clipboard_copy&utm_source=copyLink&utm_campaign=creatorshare_creator&utm_content=join_link"class="active">Upgrade</a>
        <a href="index.html">Home</a>
        <a href="server.html">Server Details</a>
        <a href="dynmap.html">Dynmap</a>
        <p class="mobile" ><span id="server-status"></span></i></p>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
      </div>
    
    <br>
    <br>

    <img src="Minecraft_Logo_Test_2_2.png" style="width: 50%;" alt="PogCraft">

    <h3>Experiencing Lag? Upgrade the server.</h3>
    <button class="button" style="font-family: nunito;" onclick='window.open("https://patreon.com/MinecraftServerUpgrade?utm_medium=clipboard_copy&utm_source=copyLink&utm_campaign=creatorshare_creator&utm_content=join_link")'>Upgrade</button>
    <div class="row">
        <div class="column">
          <h2>About the Server</h2>
          <p>This server is player funded! The goal is to have this server run indefinitely which is why there is a free base server of 3gb or ram and 1 thread. If players experience lag then the idea would be for them to upgrade the server when they feel it necessary.</p>
        </div>
        <div class="column">
          <h2>Need Help?</h2>
          <p>Ask any questions you have in the discord.</p>
        </div>
    </div>

    <br><br><br><br><br><br><br><br><br><br><br><br>

</body>

<script>
    function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>
<script>
  function initServerData(serverIp,serverPort){    
      fetch('https://api.mcsrvstat.us/3/play.pogcraft.net:25612')
      .then(response => response.json())
      .then(data => handleServerStatus(data));
  
      function handleServerStatus(data){
          if(data.status=='error'){
              console.log(data.error);
              return false;
          }

          const serverStatus = document.getElementById("server-status");
          if (data.online) {
              serverStatus.innerHTML = "Online";
          }   
          else {
              serverStatus.innerHTML = "Offline";
          }
          
  
          const playerMax = document.getElementById("player-max");
          playerMax.innerHTML = data.players.max;
  
          const playerCounter = document.getElementById("player-count");
          playerCounter.innerHTML = data.players.online;

          const serverVersion = document.getElementById("server-version");
          serverVersion.innerHTML = data.version;
      } 
  }
  
  initServerData("play.pogcraft.net","25565");
  
</script>

</html>
