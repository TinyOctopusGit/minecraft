<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Pogcraft">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PogCraft</title>
    <link rel="icon" type="image/x-icon" href="Minecraft_Logo_Test_2_2.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <div class="topnav" id="myTopnav">
        <a href="index.html" class="active">Home</a>
        <a href="server.html">Server Details</a>
        <a href="mods.html">Mods</a>
        <a href="blueMap.html">BlueMap</a>
        <p class="mobile" ><span id="server-status"></span></p>
        <a href="javascript:void(0);" class="icon" onclick="myFunction()">
          <i class="fa fa-bars"></i>
        </a>
      </div>
    
    <br>
    <br>

  
    <div class="alert">
      <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
      <strong>Admin Message:</strong> The server is being migrated to being locally hosted, some things on this website may not work or be out of date as well as servers being down more.
    </div>

    <img src="Minecraft_Logo_Test_2_2.png" style="width: 50%;" alt="PogCraft">

    <div class="row">
        <div class="column3">
          <h2>About the Server</h2>
          <p>More information about server hardware, software, and status</p><br>
          <button class="button" style="font-family: nunito; font-size: x-large;" onclick="location.href='server.html';">Server Info</button>
        </div>
        <div class="column3">
          <h2>World Map</h2>
          <p>View the world map in 3D.</p>
          <br><br>
          <button class="button" style="font-family: nunito; font-size: x-large;" onclick="location.href='blueMap.html';">BlueMap</button>
        </div>
        <div class="column3">
          <h2>Mods</h2>
          <p>Install mods to improve your performance and gameplay.</p><br>
          <button class="button" style="font-family: nunito; font-size: x-large;" onclick="location.href='mods.html';">Mods</button>
        </div>
    </div>

    <br><br><br><br><br><br><br><br><br><br><br><br>

</body>

<script>
    function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>
<script>
  function initServerData(serverIp,serverPort){    
      fetch('https://api.mcsrvstat.us/3/play.pogcraft.net:25612')
      .then(response => response.json())
      .then(data => handleServerStatus(data));
  
      function handleServerStatus(data){
          if(data.status=='error'){
              console.log(data.error);
              return false;
          }

          const serverStatus = document.getElementById("server-status");
          if (data.online) {
              serverStatus.innerHTML = "Online";
          }   
          else {
              serverStatus.innerHTML = "Offline";
          }
          
  
          const playerMax = document.getElementById("player-max");
          playerMax.innerHTML = data.players.max;
  
          const playerCounter = document.getElementById("player-count");
          playerCounter.innerHTML = data.players.online;

          const serverVersion = document.getElementById("server-version");
          serverVersion.innerHTML = data.version;
      } 
  }
  
  initServerData("play.pogcraft.net","25565");
  
</script>

</html>
